(this["webpackJsonpbirth-users"]=this["webpackJsonpbirth-users"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),s=(n(13),n(2)),u=n(6),m=n(1),l=[{number:1,name:"January"},{number:2,name:"February"},{number:3,name:"March"},{number:4,name:"April"},{number:5,name:"May"},{number:6,name:"June"},{number:7,name:"July"},{number:8,name:"August"},{number:9,name:"September"},{number:10,name:"October"},{number:11,name:"November"},{number:12,name:"December"}],i=function(e){var t=e.users,n=e.monthQty,o=e.onHoverMonth,c=Object(a.useState)(0),s=Object(m.a)(c,2),u=s[0],i=s[1],b=function(e,t){return e.fullName>t.fullName?1:e.fullName<t.fullName?-1:0},h=function(e){var n=e.target.dataset,a=n.number,r=n.month,c=n.qty,s=n.color,u=t.filter((function(e){return e.month===+a})).sort(b);i(a),o({month:r,qty:c,color:s,users:u})},f=function(e){i(0),o({month:void 0,users:[],color:void 0,qty:0})};return r.a.createElement("nav",{className:"months-wrapper"},l.map((function(e){var t,a=null!==(t=n[e.number])&&void 0!==t?t:0,o=function(e){return e<=2?"grey":e>=3&&e<=6?"blue":e>=7&&e<=10?"green":"red"}(a),c="month-ref"+(e.number===+u?" active-month":"");return r.a.createElement("a",{href:"/#",key:e.number,"data-number":e.number,"data-month":e.name,"data-qty":a,"data-color":o,style:{color:o},onMouseEnter:h,onMouseLeave:f,className:c},r.a.createElement("span",{className:"month-name"},e.name)," (",a,")")})))},b=function(e){var t=e.users,n=e.month,a=e.qty,o=e.color,c=0===t.length?r.a.createElement("p",null,"No users"):t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("a",{href:"/#"},r.a.createElement("span",{className:"user-fullname"},e.fullName," "),r.a.createElement("span",{className:"user-date"},"(",e.dob,")")))}));return n?r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement("span",{className:"users-qty",style:{color:o}},a)," ","Users of birthday in"," ",r.a.createElement("span",{className:"users-month",style:{color:o}},n)),r.a.createElement("ul",{className:"users-month-list"},c)):null},h=n(3),f=n.n(h),d=n(7),p=function(){var e=Object(d.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("HTTP error, status = "+t.status);case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var v=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(m.a)(c,2),h=l[0],f=l[1],d=Object(a.useState)([]),v=Object(m.a)(d,2),y=v[0],E=v[1],N=Object(a.useState)({month:void 0,qty:0,color:void 0,users:[]}),j=Object(m.a)(N,2),O=j[0],g=j[1],w=Object(a.useState)({}),k=Object(m.a)(w,2),S=k[0],M=k[1];return Object(a.useEffect)((function(){o(!0),p().then((function(e){var t=e.map((function(e){return{id:e.id,fullName:"".concat(e.firstName," ").concat(e.lastName),month:new Date(e.dob).getMonth()+1,dob:new Date(e.dob).toLocaleDateString("en-US")}})),n=t.reduce((function(e,t){var n=e[t.month]?e[t.month]:0;return Object(u.a)({},e,Object(s.a)({},t.month,n+1))}),{});E(t),M(n)})).catch((function(e){console.log(e),f(e.message)})),o(!1)}),[]),n?"Loading ...":h?r.a.createElement("p",null,"Error occurs: ",h," "):r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(i,{users:y,monthQty:S,className:"month-menu",onHoverMonth:function(e){g(e)}}),r.a.createElement(b,Object.assign({},O,{className:"user-list"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.46689137.chunk.js.map